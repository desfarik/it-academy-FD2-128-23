<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .lds-ring.show {
            display: inline-block;
        }

        .lds-ring {
            display: none;
            position: relative;
            width: 40px;
            height: 40px;
        }

        .lds-ring div {
            box-sizing: border-box;
            display: block;
            position: absolute;
            width: 32px;
            height: 32px;
            margin: 8px;
            border: 4px solid #0697f1;
            border-radius: 50%;
            animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
            border-color: #0697f1 transparent transparent transparent;
        }

        .lds-ring div:nth-child(1) {
            animation-delay: -0.45s;
        }

        .lds-ring div:nth-child(2) {
            animation-delay: -0.3s;
        }

        .lds-ring div:nth-child(3) {
            animation-delay: -0.15s;
        }

        @keyframes lds-ring {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body>

<div class="fact-container">
    <ol class="fact"></ol>

</div>

<div style="display:flex; align-items: center; gap: 20px">
    <button id="loadMore" onclick="loadMore()">load more</button>
    <div class="lds-ring spinner">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>
</div>

<script>
  loadMore();

  function wait(time) {
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve('timer');
      }, time);
    });
  }

  async function loadMore() {
    const spinner = document.querySelector('.spinner');
    const factContainer = document.querySelector('.fact');

    spinner.classList.add('show');
    console.time('fetch');
    const promises = [loadFact(), loadFact(), loadFact(), loadFact(), loadFact()];
    const facts = await Promise.all(promises);
    console.timeEnd('fetch');

    facts.map(fact => {
      const li = document.createElement('li');
      li.textContent = fact;
      return li;
    })
      .forEach(fact => factContainer.append(fact));
    document.querySelector('#loadMore').scrollIntoView();
    spinner.classList.remove('show');



    // const result = await Promise.race([loadFact(), wait(500)])
    // console.log('fetched: ',result);
  }

  async function loadFact() {
    const response = await fetch('https://catfact.ninja/fact');
    const data = await response.json();
    return data.fact;
  }

</script>

</body>
</html>
