<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
<ul class="tree" id="tree" onclick="onTreeNodeClick(event)">
    <li>
        <span>Животные</span>
        <ul>
            <li>
                <span>Млекопитающие</span>
                <ul>
                    <li><span>Коровы</span></li>
                    <li><span>Ослы</span></li>
                    <li><span>Собаки</span></li>
                    <li><span>Тигры</span></li>
                </ul>
            </li>
            <li><span>Другие
          </span>
                <ul>
                    <li><span>Змеи</span></li>
                    <li><span>Птицы</span></li>
                    <li><span>Ящерицы</span></li>
                </ul>
            </li>
        </ul>
    </li>
    <li><span>Рыбы
      </span>
        <ul>
            <li><span>Аквариумные
          </span>
                <ul>
                    <li><span>Гуппи</span></li>
                    <li><span>Скалярии</span></li>
                </ul>
            </li>
            <li><span>Морские
          </span>
                <ul>
                    <li><span>Морская форель</span></li>
                </ul>
            </li>
        </ul>
    </li>
</ul>

<script>

  function onTreeNodeClick(event) {
    if (event.target.tagName !== 'SPAN') {
      return;
    }

    const title = event.target;
    // const ul = title.parentElement.querySelector('ul');
    const ul = title.nextElementSibling;
    if(ul) {
      ul.classList.toggle('hidden')
    }
  }
</script>
</body>
</html>
